---
import { ArrowDown, FileText } from 'lucide-react';
import ThemeToggle from '../ui/ThemeToggle.astro';
---

<section id="home" class="min-h-screen flex flex-col justify-center relative px-4 pt-20 overflow-hidden grid-bg">
  <div id="progress-bar"></div>
  <!-- Top Navigation -->
  <div class="absolute top-0 left-0 w-full p-6 flex justify-between items-center z-50">
    <span class="text-xl font-bold tracking-tighter text-primary">AJVAD N.</span>
    <div class="flex items-center gap-4">
      <ThemeToggle />
      <a 
        href="/docs/resume.pdf" 
        target="_blank"
        class="flex items-center gap-2 px-6 py-2 bg-secondary text-background rounded-full font-medium hover:bg-primary hover:text-background transition-colors duration-300 magnetic"
      >
        <FileText className="w-4 h-4" />
        <span>Resume</span>
      </a>
    </div>
  </div>

  <div class="max-w-7xl mx-auto w-full grid lg:grid-cols-2 gap-12 items-center z-10">
    <div class="order-2 lg:order-1">

      <h1 class="text-6xl md:text-[12vw] leading-[0.9] md:leading-[0.8] font-bold mb-8 tracking-tighter text-primary">
        <span class="glitch inline-block" data-text="AJVAD">AJVAD</span><br/>
        <span class="text-secondary glitch inline-block" data-text="N.">N.</span>
      </h1>
      
      <div class="flex flex-col gap-8 max-w-xl">
        <p class="text-2xl md:text-3xl text-muted font-light tracking-wide leading-snug">
          <span id="typewriter" class="typewriter-cursor"></span>
        </p>
        
        <script>
          const text = "Cybersecurity Analyst & Ethical Hacker";
          const element = document.getElementById('typewriter');
          let i = 0;
          
          function typeWriter() {
            if (i < text.length) {
              element.innerHTML += text.charAt(i);
              i++;
              setTimeout(typeWriter, 50);
            } else {
                // Optional: Highlight "Ethical Hacker" after typing
                element.innerHTML = element.innerHTML.replace("Ethical Hacker", "<span class='text-primary'>Ethical Hacker</span>");
            }
          }
          
          // Start typing when the page loads
          window.addEventListener('load', typeWriter);

          // Progress Bar Script
          window.addEventListener('scroll', () => {
            const h = document.documentElement, 
                  b = document.body,
                  st = 'scrollTop',
                  sh = 'scrollHeight';
            const percent = (h[st]||b[st]) / ((h[sh]||b[sh]) - h.clientHeight) * 100;
            const pb = document.getElementById('progress-bar');
            if (pb) pb.style.width = percent + '%';
          });
        </script>
        
        <div class="flex flex-wrap gap-6">
          <a 
            href="#projects"
            class="group relative inline-flex items-center gap-3 text-lg font-medium text-primary hover:text-secondary transition-colors"
          >
            <span class="h-px w-8 bg-primary group-hover:w-12 transition-all duration-300"></span>
            View Work
          </a>
          <a 
            href="#contact"
            class="group relative inline-flex items-center gap-3 text-lg font-medium text-muted hover:text-primary transition-colors"
          >
            <span class="h-px w-8 bg-muted group-hover:w-12 transition-all duration-300"></span>
            Contact Me
          </a>
        </div>
      </div>
    </div>

    <div class="order-1 lg:order-2 relative flex justify-center lg:justify-end">
      <div class="relative w-64 h-64 md:w-96 md:h-96 group">
        <!-- Corner Accents -->
        <div class="corner-marker corner-tl group-hover:-translate-x-1 group-hover:-translate-y-1 transition-transform duration-300"></div>
        <div class="corner-marker corner-tr group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform duration-300"></div>
        <div class="corner-marker corner-bl group-hover:-translate-x-1 group-hover:translate-y-1 transition-transform duration-300"></div>
        <div class="corner-marker corner-br group-hover:translate-x-1 group-hover:translate-y-1 transition-transform duration-300"></div>
        
        <div class="relative w-full h-full overflow-hidden border border-white/5 rounded-2xl">
            <img 
            src="/images/profile.jpg" 
            alt="AJVAD N" 
            class="w-full h-full object-cover transition-all duration-700 group-hover:scale-105 image-mask opacity-90 group-hover:opacity-100 grayscale group-hover:grayscale-0 rounded-2xl"
            />
        </div>
        
        <!-- Background decorative element -->
        <div class="absolute -inset-4 bg-secondary/5 blur-2xl -z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-700"></div>
      </div>
    </div>
  </div>

  <div class="absolute bottom-8 left-4 md:left-12 animate-bounce duration-[2000ms]">
    <ArrowDown className="w-6 h-6 text-primary/50" />
  </div>
</section>
